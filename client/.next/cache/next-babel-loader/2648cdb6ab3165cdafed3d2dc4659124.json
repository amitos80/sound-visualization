{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { PlayerServiceClient } from '../../../proto/player_grpc_web_pb';\nimport { ClientMessage } from '../../../proto/player_pb'; //import { ProtoGrpcType } from '../../../proto/player.proto';\n// const host = '0.0.0.0:50051';\n// const packageDefinition = protoLoader.loadSync('./proto/example.proto');\n// const proto = grpc.loadPackageDefinition(\n//     packageDefinition\n// ) as any as unknown;\n// //as unknown as ProtoGrpcType;\n// // @ts-ignore\n// const client = new proto.player.PlayerService(\n//     host,\n//     grpc.credentials.createInsecure()\n// );\n\nvar PlayerServiceClass = /*#__PURE__*/function () {\n  function PlayerServiceClass() {\n    _classCallCheck(this, PlayerServiceClass);\n\n    _defineProperty(this, \"client\", void 0);\n\n    if (false) return;\n    this.client = new PlayerServiceClient('http://' + window.location.hostname + ':50051');\n  }\n\n  _createClass(PlayerServiceClass, [{\n    key: \"join\",\n    value: function join() {\n      var clientMessage = new ClientMessage();\n      clientMessage.setA('542');\n      clientMessage.setB('234');\n      clientMessage.setC('1252');\n      clientMessage.setD('2345');\n      var stream = this.client.join(clientMessage);\n      stream.on('data', function (message) {\n        console.log(\"client received$ \".concat(message));\n      });\n    }\n  }, {\n    key: \"send\",\n    value: function send(params) {\n      var clientMessage = new ClientMessage();\n      clientMessage.setA(params.getA());\n      clientMessage.setB(params.getB());\n      clientMessage.setC(params.getC());\n      clientMessage.setD(params.getD());\n      this.client.send(clientMessage, undefined, function (err, response) {\n        if (err) {\n          console.error(err);\n        } else {\n          console.log('response', response.toObject());\n          document.getElementById('message').value = '';\n        }\n      });\n    }\n  }]);\n\n  return PlayerServiceClass;\n}();\n\nexport var PlayerService = new PlayerServiceClass();","map":null,"metadata":{},"sourceType":"module"}