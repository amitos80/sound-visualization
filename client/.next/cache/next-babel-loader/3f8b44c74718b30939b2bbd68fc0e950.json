{"ast":null,"code":"//import {RpcError as GrpcWebError} from 'grpc-web';\nimport { PlayerServiceClient } from '../proto/player_grpc_web_pb';\nimport { ClientMessage } from '../proto/player_pb';\nexport function PlayerService() {\n  this.client;\n  if (true) return;\n\n  if (!this.client) {\n    this.client = new PlayerServiceClient('http://' + window.location.hostname + ':50051');\n  }\n}\n\nPlayerService.prototype.join = function join() {\n  if (!this.client) {\n    this.client = new PlayerServiceClient('http://' + window.location.hostname + ':50051');\n  }\n\n  const clientMessage = new ClientMessage();\n  clientMessage.setA('542');\n  clientMessage.setB('234');\n  clientMessage.setC('1252');\n  clientMessage.setD('2345');\n  const stream = this.client.join(clientMessage);\n  stream.on('data', message => {\n    console.log(`client received$ ${message}`);\n  });\n};\n\nPlayerService.prototype.send = function (params) {\n  const clientMessage = new ClientMessage();\n  clientMessage.setA(params.getA());\n  clientMessage.setB(params.getB());\n  clientMessage.setC(params.getC());\n  clientMessage.setD(params.getD());\n  this.client.send(clientMessage, undefined, (err, response) => {\n    if (err) {\n      console.error(err);\n    } else {\n      console.log('response', response.toObject());\n      document.getElementById('message').value = '';\n    }\n  });\n};\n\nexport default PlayerService;","map":null,"metadata":{},"sourceType":"module"}